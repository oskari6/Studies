<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Lappi</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="scrim" class="scrim">
      <div id="registerContainer" class="modal-content register">
        <span class="close-button" onClick="closeModal()">&times;</span>
        <div id="msgContainer"><p id="register-message"></p></div>
        <div class="register-wrapper">
          <h2>Register</h2>
          <input type="text" id="firstname" placeholder="First name" />
          <input type="text" id="lastname" placeholder="Last name" />
          <input type="text" id="email" placeholder="Email" />
          <input type="text" id="reg-username" placeholder="Username" />
          <input type="password" id="reg-password" placeholder="Password" />
          <button id="registerModal" onClick="register()">Register</button>
        </div>
      </div>
      <div id="loginContainer" class="modal-content login">
        <span class="close-button" onClick="closeModal()">&times;</span>
        <div id="msgContainer"><p id="login-message"></p></div>
        <div class="login-wrapper">
          <h2>Login</h2>
          <input type="text" id="login-username" placeholder="Username" />
          <input type="password" id="login-password" placeholder="Password" />
          <button id="loginModal" onClick="login()">Login</button>
        </div>
      </div>
      <div id="logoutContainer" class="modal-content logout">
        <span class="close-button" onClick="closeModal()">&times;</span>
        <div class="logout-wrapper">
          <h2>Do you want to log out?</h2>
          <div class="button-wrapper">
            <button id="cancelModal" onClick="closeModal()">No</button>
            <button id="logoutModal" onClick="logout()">Yes</button>
          </div>
        </div>
      </div>
      <div id="iglu-modal" class="modal-content-2">
        <span class="close-button" onClick="closeModal()">&times;</span>
        <div class="header-container"></div>
        <img src="13.jpg" />
        <h3>Iglu accommodation</h3>
        <div class="info-wrapper">
          <div id="col">
            <h4>[About]</h4>

            <span>[how]</span>
            <span>[when]</span>
            <span>[why]</span>
          </div>
          <div id="col">
            <h4>[prices]</h4>
            <span>1</span>
            <span>2</span>
            <span>3</span>
          </div>
          <div id="col">
            <h4>[Dates]</h4>

            <span>[time period 1]</span>
            <span>[time period 2]</span>
            <span>[time period 3]</span>
          </div>
        </div>
        <footer id="modal-footer">Lapland experinces co</footer>
      </div>
      <div id="husky-modal" class="modal-content-2">
        <span class="close-button" onClick="closeModal()">&times;</span>
        <div class="header-container"></div>
        <img src="14.jpg" />
        <h3>Husky safari</h3>
        <div class="info-wrapper">
          <div id="col">
            <h4>[About]</h4>

            <span>[how]</span>
            <span>[when]</span>
            <span>[why]</span>
          </div>
          <div id="col">
            <h4>[prices]</h4>
            <span>1</span>
            <span>2</span>
            <span>3</span>
          </div>
          <div id="col">
            <h4>[Dates]</h4>

            <span>[time period 1]</span>
            <span>[time period 2]</span>
            <span>[time period 3]</span>
          </div>
        </div>
        <footer id="modal-footer">Lapland experinces co</footer>
      </div>
      <div id="santas-modal" class="modal-content-2">
        <span class="close-button" onClick="closeModal()">&times;</span>
        <div class="header-container"></div>
        <img src="15.jpeg" />
        <h3>Santas workshop</h3>
        <div class="info-wrapper">
          <div id="col">
            <h4>[About]</h4>

            <span>[how]</span>
            <span>[when]</span>
            <span>[why]</span>
          </div>
          <div id="col">
            <h4>[prices]</h4>
            <span>1</span>
            <span>2</span>
            <span>3</span>
          </div>
          <div id="col">
            <h4>[Dates]</h4>

            <span>[time period 1]</span>
            <span>[time period 2]</span>
            <span>[time period 3]</span>
          </div>
        </div>
        <footer id="modal-footer">Lapland experinces co</footer>
      </div>
      <div id="mountain-modal" class="modal-content-2">
        <span class="close-button" onClick="closeModal()">&times;</span>
        <div class="header-container"></div>
        <img src="16.jpg" />
        <h3>Mountain Summits</h3>

        <div class="info-wrapper">
          <div id="col">
            <h4>[About]</h4>

            <span>[how]</span>
            <span>[when]</span>
            <span>[why]</span>
          </div>
          <div id="col">
            <h4>[prices]</h4>
            <span>1</span>
            <span>2</span>
            <span>3</span>
          </div>
          <div id="col">
            <h4>[Dates]</h4>

            <span>[time period 1]</span>
            <span>[time period 2]</span>
            <span>[time period 3]</span>
          </div>
        </div>
        <footer id="modal-footer">Lapland experinces co</footer>
      </div>
    </div>
    <div class="top-bar">
      <div class="logo">
        <img src="logo.svg" />
      </div>
      <ul class="auth-wrapper">
        <li>
          <a href="#"
            ><button id="registerButton" onClick="openRegister()">
              Register
            </button></a
          >
        </li>
        <li>
          <a href="#"
            ><button id="loginButton" onClick="openLogin()">Login</button></a
          >
        </li>
        <li>
          <a href="#"
            ><button id="logoutButton" onClick="openLogout()">Logout</button></a
          >
        </li>
      </ul>
    </div>
    <div class="video-container">
      <video loop muted autoplay src="video.mp4"></video>
      <div class="banner-2"><h1>Lapland adventures</h1></div>
      <div class="banner-2-content">
        <p class="hidden">Once in a lifetime experiences</p>
        <p class="hidden">Affordable</p>
        <p class="hidden">Variety of dates</p>
      </div>
    </div>
    <script>
      window.onclick = function (event) {
        const scrim = document.getElementById("scrim");
        if (event.target == scrim) {
          closeModal();
        }
      };
    </script>
    <section>
      <div class="content-container">
        <div class="content-header">
          <div>
            <p>CHOOSE YOUR ACTIVITY</p>
            <h2>Lapland experiences</h2>
          </div>
        </div>
        <div class="image-container-2">
          <a href="#" onClick="openIgluModal()">
            <div class="activity hidden-slide">
              <h3>Iglu accommodation</h3>
            </div>
          </a>

          <a href="#" onClick="openHuskyModal()">
            <div class="activity hidden-slide">
              <h3>Husky safari</h3>
            </div>
          </a>

          <a href="#" onClick="openSantasModal()">
            <div class="activity hidden-slide">
              <h3>Santas workshop</h3>
            </div>
          </a>

          <a href="#" onClick="openMountainModal()">
            <div class="activity hidden-slide">
              <h3>Mountain Summits</h3>
            </div>
          </a>
        </div>
      </div>
    </section>
    <div class="banner">
      <span id="bannerText" class="show">Log in / Register</span>
    </div>
    <div class="carousel">
      <div class="carousel-container">
        <div class="slide-img">
          <img src="2.jpg" />
        </div>
        <div class="slide-img">
          <img src="17.jpg" />
        </div>
        <div class="slide-img">
          <img src="18.jpg" />
        </div>
        <div class="slide-img">
          <img src="19.jpg" />
        </div>
      </div>
      <div class="overlay-text">
        <h3 class="hidden-slide-right">Iglu Accommodation</h3>
        <p class="hidden-slide-right">[desc]</p>
        <p class="hidden-slide-right">[desc]</p>
        <nav>
          <a href="iglu-accomodation">
            <button class="read-more hidden">Read more</button>
          </a>
        </nav>
      </div>
    </div>
    <div class="carousel">
      <div class="carousel-container">
        <div class="slide-img">
          <img src="3.jpg" />
        </div>
        <div class="slide-img">
          <img src="20.jpg" />
        </div>
        <div class="slide-img">
          <img src="21.jpg" />
        </div>
        <div class="slide-img">
          <img src="22.jpg" />
        </div>
      </div>
      <div class="overlay-text">
        <h3 class="hidden-slide-left">Husky Safari</h3>
        <p class="hidden-slide-left">[desc]</p>
        <p class="hidden-slide-left">[desc]</p>
        <nav>
          <a href="husky-safari">
            <button class="read-more hidden">Read more</button>
          </a>
        </nav>
      </div>
    </div>
    <div class="carousel">
      <div class="carousel-container">
        <div class="slide-img">
          <img src="4.jpg" />
        </div>
        <div class="slide-img">
          <img src="23.jpg" />
        </div>
        <div class="slide-img">
          <img src="24.jpg" />
        </div>
        <div class="slide-img">
          <img src="25.jpg" />
        </div>
      </div>
      <div class="overlay-text">
        <h3 class="hidden-slide-right">Santas Workshop</h3>
        <p class="hidden-slide-right">[desc]</p>
        <p class="hidden-slide-right">[desc]</p>
        <nav>
          <a href="santas-workshop">
            <button class="read-more hidden">Read more</button>
          </a>
        </nav>
      </div>
    </div>
    <div class="carousel">
      <div class="carousel-container">
        <div class="slide-img">
          <img src="5.jpg" />
        </div>
        <div class="slide-img">
          <img src="26.jpg" />
        </div>
        <div class="slide-img">
          <img src="27.jpg" />
        </div>
        <div class="slide-img">
          <img src="28.jpg" />
        </div>
      </div>
      <div class="overlay-text">
        <h3 class="hidden-slide-left">Mountain Summits</h3>
        <p class="hidden-slide-left">[desc]</p>
        <p class="hidden-slide-left">[desc]</p>
        <nav>
          <a href="mountain-summits">
            <button class="read-more hidden">Read more</button>
          </a>
        </nav>
      </div>
    </div>

    <script>
      let slideIndex = 0;
      let intervalId;

      function startCarousel(carousel) {
        const slides = carousel.querySelectorAll(".slide-img");
        const container = carousel.querySelector(".carousel-container");

        function moveSlide(n) {
          slideIndex += n;
          if (slideIndex >= slides.length) slideIndex = 0;
          if (slideIndex < 0) slideIndex = slides.length - 1;
          container.style.transform = `translateX(-${slideIndex * 100}%)`;
        }

        intervalId = setInterval(() => {
          moveSlide(1);
        }, 5000);
        carousel.intervalId = intervalId;
      }
      function stopCarousel(carousel) {
        clearInterval(carousel.intervalId);
      }
    </script>
    <footer id="main-footer">
      <div><p>This is the footer</p></div>
    </footer>
    <script src="main.js"></script>
    <script>
      window.addEventListener("popstate", function (event) {
        if (event.state && event.state.modalOpen) {
          closeModal();
        }
      });
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            if (entry.target.classList.contains("carousel")) {
              console.log("carousel showing");
              startCarousel(entry.target);
            }
            if (entry.target.classList.contains("hidden")) {
              entry.target.classList.add("show");
            }
            if (
              entry.target.classList.contains("hidden-slide") ||
              entry.target.classList.contains("hidden-slide-right") ||
              entry.target.classList.contains("hidden-slide-left")
            ) {
              entry.target.classList.add("slide");
            }
          } else {
            entry.target.classList.remove("show", "slide");
            if (entry.target.classList.contains("carousel")) {
              stopCarousel(entry.target);
            }
          }
        });
      });

      const hiddenElements = document.querySelectorAll(
        ".hidden, .hidden-slide, .hidden-slide-right, .hidden-slide-left, .carousel"
      );
      hiddenElements.forEach((el) => observer.observe(el));
    </script>
  </body>
</html>
